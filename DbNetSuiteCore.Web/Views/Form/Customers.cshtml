@using DbNetSuiteCore.Enums
@using DbNetSuiteCore.Models
@using DbNetSuiteCore.Web.Helpers

@{
    var customerForm = new FormModel(DataSourceType.SQLite, ConnectionStringHelper.TestConnectionString(Context.Request.Query["db"], DataSourceType.SQLite), "Customers") { Insert = true, Delete = true };

//    customerForm.ClientEvents[FormClientEvent.ValidateDelete] = "validateDelete";
    @(await new DbNetSuiteCore.Control(Context).Render(customerForm))
}

<script>
    function validateDelete(formControl, args) {
        if (formControl.formControlDbValue("companyname") != "DbNetLink Limited") {
            formControl.highlightError("companyname");
            args.message = `Only customers with a name of DbNetLink Limited can be deleted`;
        }
    }
</script>
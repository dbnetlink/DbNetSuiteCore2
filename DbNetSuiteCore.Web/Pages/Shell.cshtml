@page
@using DbNetSuiteCore.Enums
@using DbNetSuiteCore.Web.Enums
@using DbNetSuiteCore.Helpers
@using DbNetSuiteCore.Models
@{
        GridModel shellGrid = new GridModel(DataSourceType.MSSQL, "InspectionManager", "Shell") { OptimizeForLargeDataset = true, Caption = "Shell", PageSize = 10 };
        shellGrid.Columns = new List<GridColumn>()
        {
            new GridColumn("SHELLID") {Filter = FilterType.Default},
            new GridColumn("ASSOCIATEDTABLEID"),
            new GridColumn("STATUS"),
            new GridColumn("KEY1"),
            new GridColumn("KEY2"),
            new GridColumn("KEY3"),
            new GridColumn("KEY4"),
            new GridColumn("KEY5"),
            new GridColumn("MASTERSHELLID"),
            new GridColumn("EXTERNALID"),
            new GridColumn("DATEOFORIGIN"),
            new GridColumn("PROCESSPLANID"),
            new GridColumn("GPSLAT"),
            new GridColumn("GPSLONG"),
            new GridColumn("SYNCEDWORKGROUPID"),
            new GridColumn("CREATEDDATE"),
            new GridColumn("CREATEDBY"),
            new GridColumn("MODIFIEDDATE"),
            new GridColumn("MODIFIEDBY")
        };

        GridModel genEventGrid = new GridModel(DataSourceType.MSSQL, "InspectionManager", "GenEvent") { OptimizeForLargeDataset = true, Caption = "GenEvent", PageSize = 10 };
        genEventGrid.Columns = new List<GridColumn>()
        {
            new GridColumn("ID") {Filter = FilterType.Default},
            new GridColumn("SHELLID") {ForeignKey = true},
            new GridColumn("SCHEDULEID"),
            new GridColumn("ORIGIN"),
            new GridColumn("USERID"),
            new GridColumn("FIELDDEVICEID"),
            new GridColumn("ADDDATE"),
            new GridColumn("INSPECTIONTYPEID"),
            new GridColumn("EVENTTYPE"),
            new GridColumn("EVENTEXTRA"),
            new GridColumn("STARTDATE"),
            new GridColumn("ENDDATE"),
            new GridColumn("COMMENTS"),
            new GridColumn("REGBODY"),
            new GridColumn("WORKORDERID"),
            new GridColumn("STATUS"),
            new GridColumn("FOLLOWUP"),
            new GridColumn("MASTERINSTANCECOUNT"),
            new GridColumn("ALERTSEVERITY"),
            new GridColumn("EVENTREFERENCE"),
            new GridColumn("COMPLIANCEDATE"),
            new GridColumn("ITFGID"),
            new GridColumn("MAINTENANCETASKID"),
            new GridColumn("WORKFLAG"),
            new GridColumn("ASSIGNEDDATE"),
            new GridColumn("SCHEDULEDDATE"),
            new GridColumn("PROCESSPLANID"),
            new GridColumn("GPS"),
            new GridColumn("GPSLATITUDE"),
            new GridColumn("GPSLONGITUDE"),
            new GridColumn("GPSTIMESTAMP"),
            new GridColumn("MASTERSCHEDULEID")
        };

        GridModel genEventReadGrid = new GridModel(DataSourceType.MSSQL, "InspectionManager", "GenEventRead") { OptimizeForLargeDataset = true, Caption = "GenEventRead", PageSize = 10 };
        genEventReadGrid.Columns = new List<GridColumn>()
        {
            new GridColumn("ReadID"),
            new GridColumn("GenEventID") {ForeignKey = true},
            new GridColumn("FieldDefID"),
            new GridColumn("Data")
        };

        shellGrid.LinkedControl = genEventGrid;
        genEventGrid.LinkedControl = genEventReadGrid;

        <div style="display:flex;flex-direction:column;gap-4;">
            <div>
                @(await new DbNetSuiteCore.Control(HttpContext).Render(shellGrid))
            </div>
            <div>
                @(await new DbNetSuiteCore.Control(HttpContext).Render(genEventGrid))
            </div>
            <div>
                @(await new DbNetSuiteCore.Control(HttpContext).Render(genEventReadGrid))
            </div>
        </div>
}

@page
@using DbNetSuiteCore.Enums
@using DbNetSuiteCore.Web.Enums
@using DbNetSuiteCore.Web.Helpers
@using DbNetSuiteCore.Models
@using Microsoft.Extensions.Primitives
@{
    var customersGrid = new GridModel(DataSourceType.MongoDB, "MongoDb(local)", "customer") { DatabaseName = ConnectionStringHelper.TestConnectionString(Request.Query["db"], DataSourceType.MongoDB) };

    customersGrid.Columns = new List<GridColumn>() {
        new GridColumn("_id", "ID") { DataOnly = true, PrimaryKey = true},
        new GridColumn("entityId", "Customer ID"),
        new GridColumn("companyName"),
        new GridColumn("contactName"),
        new GridColumn("contactTitle") { Lookup = new Lookup()},
        new GridColumn("phone"),
        new GridColumn("fax"),
        new GridColumn("address"),
        new GridColumn("postalCode"),
        new GridColumn("city") { Lookup = new Lookup()},
        new GridColumn("region") { Lookup = new Lookup()},
        new GridColumn("country") { Lookup = new Lookup()}
    };

    customersGrid.Columns.ToList().ForEach(c => c.Filter = true);
    @(await new DbNetSuiteCore.GridControl(HttpContext).Render(customersGrid))
}